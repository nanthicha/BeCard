
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>

    <style>
body,html {
  height:100%;
}
body {
  overflow:hidden;
  text-align:center;
  width:100%;
  background:#CFDAEC;
  & svg {
  width:100%;
  height:100%;
  visibility:hidden;
    & #email {
    cursor:pointer;
    }
  }
}
    </style>
</head>
<body>
<svg version="1.1"
xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:a="http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/"
x="0px" y="0px" width="800px" height="600px" viewBox="0 0 800 600" enable-background="new 0 0 800 600" xml:space="preserve">
	<defs>
		<clipPath id="LetterMask">
			<rect x="323.989" y="217.183" width="152.025" height="162.714"/>
		</clipPath>
	</defs>
<g id="email">  
	<path id="EnvelopeBack" fill="#EEEEEE" stroke="#264B8C" stroke-width="4" stroke-miterlimit="10" d="M476.031,288.792
	c0.105-0.069,0.166-0.189,0.163-0.315c-0.131-5.226,1.636-9.383-10.664-9.383H334.47c-12.48,0-10.498,4.363-10.67,9.588
	c-0.012,0.379,70.308,46.165,70.308,46.165c3.577,2.341,8.202,2.335,11.773-0.016L476.031,288.792z"/>
	<path id="EnvelopeBackR" fill="#78A7F6" stroke="#264B8C" stroke-width="4" stroke-linecap="round" stroke-miterlimit="10" d="
	M399.286,277.607h66.143c7.875,0,9.888-1.64,10.432-4.186c0.651-3.046-0.822-6.158-3.449-7.867l-67.191-43.7
	c-1.803-1.169-3.869-1.752-5.934-1.752"/>
	<path id="EnvelopeBackL" fill="#78A7F6" stroke="#264B8C" stroke-width="4" stroke-linecap="round" stroke-miterlimit="10" d="
	M400.014,220.103c-2.053,0.001-4.106,0.59-5.895,1.767l-66.567,43.687c-2.602,1.708-4.058,4.82-3.409,7.864
	c0.543,2.546,2.54,4.186,10.328,4.186h65.543"/>
	<g clip-path="url(#LetterMask)">
		<g id="Letter">
		<path fill="#FFFFFF" stroke="#264B8C" stroke-width="4" stroke-miterlimit="10" d="M449.341,360.155h-95.428
		c-8.096,0-14.659-6.563-14.659-14.659v-54.993c0-8.096,6.563-14.659,14.659-14.659h95.428c8.096,0,14.659,6.563,14.659,14.659
		v54.993C464,353.592,457.437,360.155,449.341,360.155z"/>
		<ellipse id="REye_2_" fill="#264B8C" cx="425.39" cy="303.101" rx="5.028" ry="5.023"/>
		<ellipse id="lEye_2_" fill="#264B8C" cx="376.051" cy="303.101" rx="5.028" ry="5.023"/>
		<path id="HappyMouth" fill="none" stroke="#264B8C" stroke-width="4" stroke-linecap="round" stroke-miterlimit="10" d="
				M417.89,333c-4.083,6-10.57,8.2-16.208,8.2c-5.638,0-12.875-2.2-16.208-8.2"/>
    <g id="brows">  
		<path fill="#264B8C" d="M434.835,293.804c-5.222-3.571-12.538-5.55-16.901,0.367c-1.147,1.555,1.456,3.053,2.59,1.514
		c3.306-4.484,9.197-1.751,12.796,0.709C434.919,297.487,436.421,294.889,434.835,293.804L434.835,293.804z"/>
		<path fill="#264B8C" d="M368.534,296.419c3.584-2.468,9.462-5.249,12.795-0.759c1.138,1.533,3.743,0.039,2.59-1.514
		c-4.381-5.901-11.688-3.906-16.9-0.318C365.44,294.916,366.938,297.518,368.534,296.419L368.534,296.419z"/>
    </g>
		</g>
	</g>
	<g id="EnvelopeFront">
		<path fill="#78A7F6" stroke="#264B8C" stroke-width="4" stroke-linecap="round" stroke-miterlimit="10" d="M476.18,289.823v79.336
		c0,0.803-0.088,1.581-0.259,2.332c-0.005,0.041-0.01,0.078-0.026,0.114c-1.102,4.753-5.351,8.293-10.434,8.293H334.518
		c-5.082,0-9.331-3.54-10.434-8.293c-0.01-0.031-0.021-0.062-0.021-0.093c-0.176-0.757-0.264-1.544-0.264-2.353v-79.336
		c0-0.389,42.78,27.065,61.593,39.339c5.31,3.462,8.71,5.681,8.71,5.681c3.576,2.338,8.198,2.332,11.764-0.016l8.757-5.753
		C414.623,329.073,476.18,289.434,476.18,289.823z"/>
		<path fill="#78A7F6" stroke="#264B8C" stroke-width="4" stroke-linecap="round" stroke-miterlimit="10" d="M323.911,369.962
		l0.135-0.093l61.329-42.35l8.798-6.074c3.566-2.348,8.187-2.353,11.764-0.016l8.669,6.002l61.298,42.417l0.166,0.114"/>
	</g>
</g>  
<g id="text">
<text d="M339.025,430.963c0-2.1,0.462-3.717,1.386-4.852c0.925-1.134,2.244-1.7,3.96-1.7
		c0.9,0,1.687,0.155,2.358,0.468c0.672,0.312,1.229,0.756,1.674,1.332s0.774,1.266,0.99,2.069c0.216,0.805,0.324,1.698,0.324,2.683
		c0,2.1-0.466,3.717-1.396,4.851s-2.247,1.701-3.951,1.701c-0.912,0-1.704-0.156-2.376-0.468c-0.672-0.313-1.227-0.756-1.665-1.332
		c-0.438-0.576-0.765-1.266-0.98-2.07C339.134,432.841,339.025,431.947,339.025,430.963z M341.617,430.963
		c0,0.636,0.055,1.221,0.162,1.755c0.108,0.534,0.273,0.993,0.495,1.377s0.507,0.684,0.855,0.9c0.348,0.216,0.762,0.323,1.241,0.323
		c0.876,0,1.555-0.342,2.034-1.025c0.48-0.685,0.721-1.794,0.721-3.33c0-0.612-0.052-1.182-0.153-1.71
		c-0.103-0.528-0.261-0.99-0.478-1.387c-0.216-0.396-0.498-0.704-0.846-0.927c-0.348-0.222-0.773-0.333-1.278-0.333
		c-0.876,0-1.554,0.352-2.033,1.054C341.857,428.361,341.617,429.463,341.617,430.963z" style="fill:#264B8C;" x="335" y="435">Please Verify E-mail.</text>
	
</g>    
<g id="textLines">
		<line fill="none" stroke="#264B8C" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" x1="351.536" y1="445.929" x2="339.393" y2="458.071"/>
		<line fill="none" stroke="#264B8C" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" x1="351.536" y1="418.071" x2="339.393" y2="405.929"/>
		<line fill="none" stroke="#264B8C" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" x1="450.464" y1="416.071" x2="462.607" y2="403.929"/>
		<line fill="none" stroke="#264B8C" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" x1="450.464" y1="445.929" x2="462.607" y2="458.071"/>
		<line fill="none" stroke="#264B8C" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" x1="397.464" y1="442" x2="397.464" y2="460"/>
		<line fill="none" stroke="#264B8C" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" x1="372.529" y1="442.863" x2="366.399" y2="459.137"/>
		<line fill="none" stroke="#264B8C" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" x1="423.878" y1="441.665" x2="429.051" y2="458.335"/>
		<line fill="none" stroke="#264B8C" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" x1="397.986" y1="420.137" x2="397.986" y2="402.137"/>
		<line fill="none" stroke="#264B8C" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" x1="425.92" y1="419.273" x2="432.051" y2="403"/>
		<line fill="none" stroke="#264B8C" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" x1="371.572" y1="420.471" x2="368.399" y2="403.802"/>
</g>
</svg>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.3/TweenMax.min.js"></script>
<!-- <script src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/DrawSVGPlugin.min.js"></script> -->
<script src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/GSDevTools.min.js"></script>
<script>
TweenMax.set('svg',{visibility:"visible"});
TweenMax.set('#Letter',{x:-1.5,y:52});
TweenMax.set('#EnvelopeBackR',{y:1})
TweenMax.set('#EnvelopeBackL',{y:1})
TweenMax.set('#text',{scale:0,transformOrigin:"center center"})
TweenMax.set('#textLines line',{drawSVG:"0% 0%"})
TweenMax.set('#HappyMouth',{y:-10,drawSVG:"48% 52%",scale:2,transformOrigin:"center center"})
TweenMax.set('#brows',{y:-5})

var mailOpenTl = new TimelineMax({paused:true});
  // open envelope L
  mailOpenTl.fromTo("#EnvelopeBackL",0.7,{
    scaleY:-1,
    transformOrigin:"50% 100%"
  },{
    scaleY:1,
    ease:Power1.easeInOut
  },'in')
  // open envelope R
  .fromTo("#EnvelopeBackR",0.7,{
    scaleY:-1,
    transformOrigin:"50% 100%"
  },{
    scaleY:1,
    ease:Power1.easeInOut
  },'in')
  // Letter in
  .to('#Letter',1.1,{
    opacity:1,
    y:-28,
    ease:Back.easeOut.config(1)
  },'in+=0.18')

var textTl = new TimelineMax({paused:true});
  // text in
  textTl.to('#text',0.65,{
    scale:1,
    ease:Expo.easeOut
  },'in+=0.25')
  // text lines
  .fromTo('#textLines',0.15,{
    scale:0.4,
    transformOrigin:"center center"
  },{
    scale:1,
    ease:Linear.easeNone
  },'in+=0.25')
  .fromTo('#textLines line',0.15,{
    drawSVG:"0% 0%",
    opacity:0,
    immediateRender:false
  },{
    drawSVG:"0% 25%",
    opacity:1,
    ease:Linear.easeNone
  },'in+=0.25')
  .to('#textLines line',0.2,{
    drawSVG:"100% 100%",
    ease:Linear.easeNone
  },'in+=0.40')

// Animate the face
var faceTl = new TimelineMax({paused:true});
  faceTl.to("#HappyMouth",0.4,{
    y:0,
    drawSVG:'100%',
    scale:1,
    transformOrigin:"center center",
    ease:Sine.easeOut
  },'smile')
    .to("#brows",0.35,{
    y:0,
    ease:Sine.easeOut
  },'smile')


var masterTl = new TimelineMax({delay:.5});
masterTl.add(mailOpenTl.play().timeScale(1.1),0)
        .add(textTl.play().timeScale(0.7),0.25)
        .add(faceTl.play(),0.62)

// Close the mail on click if open , open if closed.
var email = document.querySelector('#email')
// listener
email.addEventListener('click',function(){
  if (masterTl.progress() == 1) {
    masterTl.reverse();
    // don't want the text to animate again.
    textTl.stop()
  }
  else {
    masterTl.play();
  }
})

//GSDevTools.create();

masterTl.timeScale(0.95)

</script>
</body>
</html>